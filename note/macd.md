## MACD

这是一个非常古老的技术指标，它是由查拉尔·阿佩尔(Geral Appel)在上个世纪70年代发明的，全称指数平滑异同移动平均线。顾名思义这个指标是基于均线来对趋势进行判断。

### 原理

严格来讲MACD是均线的一个变种，其意义与均线基本相同，只是它在计算时赋予了权重，时间越近赋予权重越大。同时它在图形上展示时非常直观，观察起来也一目了然。最重要的是其巧妙的利用短期指数移动平均线与长期指数移动平均线之间的聚合与分离状况，来判断市场状态。

具体来说，它是运用快速和慢速移动平均线之差，并加以双重平滑运算得来。这样不仅去除了普通移动平均线频繁发出假信号的噪音，而且还保留了移动平均线判断趋势行情的效果。因此，MACD指标具有均线趋势性、稳定性、安定性等特点。具体来说就是：

> 第1步

先对杂乱的K线均值处理，即EMA12和EMA26。均线的优点是比较稳定，但缺点是比较滞后、频繁发出无效信号。EMA其实是另一种复杂均线。在EMA指标中，每天价格的权重系数以指数等比形式缩小。时间越靠近当今时刻，它的权重越大，说明EMA函数对近期的价格加强了权重比，更能及时反映近期价格波动情况。

> 第2步

为了解决滞后和频繁发出无效信号问题又不失稳定，对两根均线差值处理，即DIF。均线差值可以快速反映两根均线的相互关系，同时具有又稳又快的特点。DIF上升意味着什么？意味着短期成本的涨速高于长期成本的涨速，市场短期内资金买入的意愿更强。

> 第3步

重复第1步，对DIF均值处理，即DEA。

> 第4步

重复第2步，对DIF、DEA差值处理，即Histogram，也就是我们常说的红绿柱子。

**注意** , 平时用的均线MA是SMA（加权平均得来）,EMA计算更复杂。

### MACD计算方法

> 第1步：计算EMA12和EMA26

EMA12 = XAverage( Close, 12 )
EMA26 = XAverage( Close, 26 )

> 第2步：计算 DIF

DIF = EMA12 - EMA26

> 第3步：计算 DEA

DEA = XAverage( DIF, 9 )

> 第4步：计算 Histogram

Histogram = DIF - DEA

### 使用

> DIF与DEA金叉死叉做趋势

对于大部分交易者来说，做趋势策略要好过做震荡策略，因为容错率更低。所以主要是看DIF与零线的位置关系，或者是DIF与DEA的交叉状态，来判断价格走势。一般来说DIF大于0表示上涨，小于0表示下跌；或者当DIF向上突破DEA时，形成买入信号，当DIF向下突破DEA时，形成卖出信号。

> 结合价格看顶底背离做抄底

但也有一部分人用红绿柱的高低，再结合价格走势判断MACD的顶背离和底背离，这是一种典型的抄底逃顶方法。正常情况下价格与MACD是趋于同向的，当价格上涨，MACD也跟着上涨。如果价格逐步下跌，但MACD并没有跟着下跌，甚至逐步上升，与价格走势背道而驰，形成底背离，这将预示着价格可能即将上涨。同理，如果价格逐步上涨，但MACD并没有跟着上涨，甚至逐步下跌，与价格走势形成顶背离，这将预示着价格可能会下跌.

### 有效性

值得注意的是，上面的几种方法，逻辑虽然是那么回事，但在实际使用时也有反复打脸的时候。为什么有时候会不灵呢？这里面有个悖论，大家试着想一下，如果MACD一直有效，那么大家都会来用，那么大家的买卖点位相似的。比如DIF向上突破DEA时是买入信号，大家都在买，谁会卖出呢？

所以，最终的结果将会是，MACD越有效，用的人也就越多，当越来越多人使用它的时候，它就会慢慢失效，直到大部分人都放弃使用它，它又重新变的有效。因为人才是金融市场的最终参与者，这既不像物理定律，也不是数学公式，这里面没有整齐划一的规律，这是人与人买卖博弈的最终结果。